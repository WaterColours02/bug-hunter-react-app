(this.webpackJsonpcotd=this.webpackJsonpcotd||[]).push([[0],{50:function(e,t,s){},51:function(e,t,s){"use strict";s.r(t);var a=s(4),i=s.n(a),c=s(30),n=s(14),r=s(15),l=s(17),u=s(16),d=s(24),o=s(2),h=(i.a.Component,s(31)),j=s.n(h),p=d.a.initializeApp({apiKey:"process.env.REACT_APP_API_KEY",authDomain:"bug-hunter-issue-tracker.firebaseapp.com",databaseURL:"https://bug-hunter-issue-tracker-default-rtdb.firebaseio.com",projectId:"bug-hunter-issue-tracker",storageBucket:"bug-hunter-issue-tracker.appspot.com",messagingSenderId:"112444272666",appId:"1:112444272666:web:198f04392279bd6b8921a3",measurementId:"G-XMQJB8WPLS"}),b=j.a.createClass(p.database()),m=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(n.a)(this,s);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).submitedUserId=i.a.createRef(),e.state={uid:null,userId:null,owner:null},e.signIn=function(t){t.preventDefault(),console.log(e.submitedUserId.current.value);var s=e.submitedUserId.current.value.toUpperCase();e.props.history.push("/bugtracker/".concat(s))},e.authenticate=function(t){var s=new(d.a.auth["".concat(t,"AuthProvider")]);p.auth().signInWithPopup(s).then(e.authHandler)},e}return Object(r.a)(s,[{key:"render",value:function(){return Object(o.jsx)("div",{className:"sign-in-wrapper",children:Object(o.jsxs)("form",{className:"sign-in",onSubmit:this.signIn,children:[Object(o.jsx)("h1",{className:"app-title",children:"Bug Hunter - Bug Tracker"}),Object(o.jsx)("h2",{className:"sign-in-prompt",children:"Please sign in."}),Object(o.jsx)("input",{type:"text",required:!0,placeholder:"User Name",ref:this.submitedUserId}),Object(o.jsx)("button",{className:"sign-in-button",type:"submit",children:"Sign In"})]})})}}]),s}(i.a.Component),O=m,x=s(18),v=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(n.a)(this,s);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).descRef=i.a.createRef(),e.natureRef=i.a.createRef(),e.severityRef=i.a.createRef(),e.priorityRef=i.a.createRef(),e.assignedToRef=i.a.createRef(),e.dateCreatedRef=i.a.createRef(),e.expectedCompletedDateRef=i.a.createRef(),e.status=i.a.createRef(),e.createIssue=function(t){t.preventDefault();var s={desc:e.descRef.current.value,nature:e.natureRef.current.value,severity:e.severityRef.current.value,priority:e.priorityRef.current.value,assignedTo:e.assignedToRef.current.value,dateCreated:new Date(Date.now()).toString(),expectedCompleteDate:e.expectedCompletedDateRef.current.value,status:"active"};e.props.addIssue(s),t.currentTarget.reset()},e}return Object(r.a)(s,[{key:"render",value:function(){return Object(o.jsxs)("form",{onSubmit:this.createIssue,className:"new-issue-form",children:[Object(o.jsx)("h2",{className:"issue-form-title",children:"Add a new issue"}),Object(o.jsxs)("div",{className:"input-wrapper desc",children:[Object(o.jsx)("label",{htmlFor:"desc",className:"form-label",children:"Please describe the bug."}),Object(o.jsx)("input",{className:"desc-text-are",name:"desc",ref:this.descRef,placeholder:"Desc"})]}),Object(o.jsxs)("div",{className:"input-wrapper",children:[Object(o.jsx)("label",{htmlFor:"nature",className:"form-label",children:"What is the nature of the bug?"}),Object(o.jsxs)("select",{name:"nature",ref:this.natureRef,children:[Object(o.jsx)("option",{value:"security",children:"Security"}),Object(o.jsx)("option",{value:"functionality",children:"Functionality"}),Object(o.jsx)("option",{value:"stability",children:"Stability"}),Object(o.jsx)("option",{value:"design",children:"Design"})]})]}),Object(o.jsxs)("div",{className:"input-wrapper",children:[Object(o.jsxs)("label",{htmlFor:"severity",className:"form-label",children:["How ",Object(o.jsx)("strong",{children:"severe"})," is the bug?"]}),Object(o.jsxs)("select",{name:"severity",ref:this.severityRef,type:"text",placeholder:"Severity",children:[Object(o.jsx)("option",{value:"low",children:"Low"}),Object(o.jsx)("option",{value:"medium",children:"Medium"}),Object(o.jsx)("option",{value:"high",children:"High"})]})]}),Object(o.jsxs)("div",{className:"input-wrapper",children:[Object(o.jsx)("label",{htmlFor:"priority",className:"form-label",children:"What priority should this bug fix take?"}),Object(o.jsxs)("select",{name:"priority",ref:this.priorityRef,type:"text",placeholder:"Priority",children:[Object(o.jsx)("option",{value:"low",children:"Low"}),Object(o.jsx)("option",{value:"medium",children:"Medium"}),Object(o.jsx)("option",{value:"high",children:"High"})]})]}),Object(o.jsxs)("div",{className:"input-wrapper",children:[Object(o.jsx)("label",{htmlFor:"",className:"form-label",children:"What is the expected date the bug will be fixed?"}),Object(o.jsx)("input",{className:"expected-complete-date-text-area",name:"expectedCompleteDate",ref:this.expectedCompletedDateRef,placeholder:"YYYY/MM/DD"})]}),Object(o.jsxs)("div",{className:"input-wrapper",children:[Object(o.jsx)("label",{htmlFor:"assignedTo",className:"form-label",children:"Who is responsible for fixing this bug?"}),Object(o.jsx)("input",{className:"assigned-to-input",name:"assignedTo",ref:this.assignedToRef,type:"text",placeholder:"Assigned to"})]}),Object(o.jsx)("button",{className:"new-issue-submit-button",children:"Submit New Issue"})]})}}]),s}(i.a.Component),f=v,g=s(23),y=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(n.a)(this,s),(a=t.call(this,e)).handleUpdateSubmit=function(e){e.preventDefault(),a.submitUpdatedIssue(e),a.toggleEditModal()},a.handleChange=function(e){var t=e.target,s=t.name,i=t.value,c=Object(x.a)({},a.state.issue);c[s]=i,a.setState({issue:c})},a.state={editOpen:!1,issue:Object(x.a)({},a.props.details)},a.toggleEditModal=a.toggleEditModal.bind(Object(g.a)(a)),a}return Object(r.a)(s,[{key:"toggleEditModal",value:function(){this.setState({editOpen:!this.state.editOpen})}},{key:"submitUpdatedIssue",value:function(e){e.preventDefault(),console.log("updating issue",e);var t=this.props.index,s={desc:"",nature:"",severity:"",priority:"",assignedTo:"",expectedCompleteDate:"",status:""};s.desc=this.state.issue.desc,s.nature=this.state.issue.nature,s.severity=this.state.issue.severity,s.priority=this.state.issue.priority,s.assignedTo=this.state.issue.assignedTo,s.expectedCompleteDate=this.state.issue.expectedCompleteDate,s.status=this.state.issue.status,this.props.updateIssue(t,s),e.currentTarget.reset()}},{key:"render",value:function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)("button",{className:"edit-issue",onClick:this.toggleEditModal,children:"Edit"}),this.state.editOpen&&Object(o.jsx)("div",{className:"edit-issue-form",children:Object(o.jsx)("div",{className:"modal-overlay",children:Object(o.jsxs)("form",{onSubmit:this.handleUpdateSubmit,className:"edit-issue-form",children:[Object(o.jsx)("h2",{className:"edit-issue-form-title",children:"Edit Issue"}),Object(o.jsxs)("div",{className:"input-wrapper desc",children:[Object(o.jsx)("label",{htmlFor:"desc",className:"form-label",children:"Description"}),Object(o.jsx)("input",{className:"desc-text-area",name:"desc",value:this.state.issue.desc,onChange:this.handleChange})]}),Object(o.jsxs)("div",{className:"input-wrapper",children:[Object(o.jsx)("label",{htmlFor:"status",className:"form-label",children:"Status"}),Object(o.jsxs)("select",{name:"status",value:this.state.issue.status,onChange:this.handleChange,children:[Object(o.jsx)("option",{value:"active",children:"Active"}),Object(o.jsx)("option",{value:"completed",children:"Completed"})]})]}),Object(o.jsxs)("div",{className:"input-wrapper",children:[Object(o.jsx)("label",{htmlFor:"nature",className:"form-label",children:"Nature"}),Object(o.jsxs)("select",{name:"nature",value:this.state.issue.nature,onChange:this.handleChange,children:[Object(o.jsx)("option",{value:"security",children:"Security"}),Object(o.jsx)("option",{value:"functionality",children:"Functionality"}),Object(o.jsx)("option",{value:"stability",children:"Stability"}),Object(o.jsx)("option",{value:"design",children:"Design"})]})]}),Object(o.jsxs)("div",{className:"input-wrapper",children:[Object(o.jsx)("label",{htmlFor:"severity",className:"form-label",children:"Severity"}),Object(o.jsxs)("select",{name:"severity",type:"text",value:this.state.issue.severity,onChange:this.handleChange,children:[Object(o.jsx)("option",{value:"low",children:"Low"}),Object(o.jsx)("option",{value:"medium",children:"Medium"}),Object(o.jsx)("option",{value:"high",children:"High"})]})]}),Object(o.jsxs)("div",{className:"input-wrapper",children:[Object(o.jsx)("label",{htmlFor:"priority",className:"form-label",children:"Priority"}),Object(o.jsxs)("select",{name:"priority",type:"text",value:this.state.issue.priority,onChange:this.handleChange,children:[Object(o.jsx)("option",{value:"low",children:"Low"}),Object(o.jsx)("option",{value:"medium",children:"Medium"}),Object(o.jsx)("option",{value:"high",children:"High"})]})]}),Object(o.jsxs)("div",{className:"input-wrapper",children:[Object(o.jsx)("label",{htmlFor:"",className:"form-label",children:"Expected date of completion"}),Object(o.jsx)("input",{className:"expected-complete-date-text-area",name:"expectedCompleteDate",value:this.state.issue.expectedCompleteDate,onChange:this.handleChange})]}),Object(o.jsxs)("div",{className:"input-wrapper",children:[Object(o.jsx)("label",{htmlFor:"assignedTo",className:"form-label",children:"Assigned to:"}),Object(o.jsx)("input",{className:"assigned-to-input",name:"assignedTo",type:"text",value:this.state.issue.assignedTo,onChange:this.handleChange})]}),Object(o.jsx)("button",{type:"submit",className:"new-issue-submit-button",children:"Update Issue"})]})})})]})}}]),s}(i.a.Component),N=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){return Object(n.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){var e=this,t=this.props.details,s=t.desc,a=t.nature,i=t.severity,c=t.priority,n=t.assignedTo,r=t.dateCreated,l=t.status,u=t.expectedCompleteDate;return Object(o.jsx)("div",{className:"issue-wrapper",children:Object(o.jsxs)("li",{className:"list-issue",children:[Object(o.jsx)("h3",{className:"issue-desc",children:s}),Object(o.jsx)("div",{children:"active"===l?Object(o.jsx)("p",{className:"issue-active",children:"Active"}):Object(o.jsx)("p",{className:"issue-completed",children:"Completed"})}),Object(o.jsxs)("div",{className:"issue-line-div",children:[Object(o.jsx)("p",{className:"title",children:"Nature: "}),Object(o.jsx)("p",{children:a})]}),Object(o.jsxs)("div",{className:"issue-line-div",children:[Object(o.jsx)("p",{className:"title",children:"Severity:"}),Object(o.jsx)("p",{children:i})]}),Object(o.jsxs)("div",{className:"issue-line-div",children:[Object(o.jsx)("p",{className:"title",children:"Priority:"}),Object(o.jsx)("p",{children:c})]}),Object(o.jsxs)("div",{className:"issue-line-div",children:[Object(o.jsx)("p",{className:"title",children:"Assigned to:"}),Object(o.jsx)("p",{children:n})]}),Object(o.jsxs)("div",{className:"issue-line-div",children:[Object(o.jsx)("p",{className:"title",children:"Expected Date of Completion:"}),Object(o.jsx)("p",{children:u})]}),Object(o.jsxs)("div",{className:"issue-line-div",children:[Object(o.jsx)("p",{className:"date-created-title",children:"Date created:"}),Object(o.jsx)("p",{className:"date-created",children:r})]}),Object(o.jsxs)("div",{className:"buttons-wrapper",children:[Object(o.jsx)("button",{className:"complete-issue",onClick:function(){return e.props.completeIssue(e.props.index)},children:"Complete"}),Object(o.jsx)(y,{details:this.props.details,addIssue:this.props.addIssue,updateIssue:this.props.updateIssue,index:this.props.index}),Object(o.jsx)("button",{className:"delete-issue",onClick:function(){return e.props.deleteIssue(e.props.index)},children:"Delete"})]})]})})}}]),s}(i.a.Component),I=N,C=function(e){Object(l.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(n.a)(this,s);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={issues:{},editOpen:!1,searchString:"",filteredIssues:{}},e.filterIssues=function(){if(e.state.searchString){var t=Object.keys(e.state.issues).filter((function(t){return Object.values(e.state.issues[t]).some((function(t){return"string"===typeof t&&t.toLowerCase().includes(e.state.searchString)}))})).reduce((function(t,s){return t[s]=e.state.issues[s],t}),{});e.setState({filteredIssues:t})}else e.setState({filteredIssues:Object(x.a)({},e.state.issues)})},e.addIssue=function(t){console.log("adding an issue");var s=Object(x.a)({},e.state.issues);s["issue".concat(Date.now())]=t,e.setState({issues:s},e.filterIssues())},e.updateIssue=function(t,s){var a=Object(x.a)({},e.state.issues);a[t]=Object(x.a)({},s),e.setState({issues:a}),e.setState({searchString:undefined})},e.deleteIssue=function(t){var s=Object(x.a)({},e.state.issues);s[t]=null,e.setState({issues:s}),e.setState({searchString:undefined})},e.completeIssue=function(t){var s=Object(x.a)({},e.state.issues);s[t].status="completed",e.setState({issues:s})},e.onSearchChange=function(t){var s=t.target.value.toLocaleLowerCase();e.setState({searchString:s},e.filteredIssues),e.filterIssues()},e}return Object(r.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params;this.ref=b.syncState("".concat(t.userId,"/issues"),{context:this,state:"issues",then:function(){console.log(e.state.issues),e.setState({filteredIssues:Object(x.a)({},e.state.issues)},(function(){console.log(e.state.filteredIssues)}))}})}},{key:"render",value:function(){var e=this;return Object(o.jsxs)("div",{className:"wrapper",children:[Object(o.jsx)("div",{className:"header",children:Object(o.jsxs)("h1",{className:"welcome-user",children:["WELCOME ",this.props.match.params.userId,"!"]})}),Object(o.jsxs)("div",{className:"app-grid",children:[Object(o.jsx)(f,{addIssue:this.addIssue}),Object(o.jsx)("div",{className:"search-bar-container",children:Object(o.jsx)("input",{className:"search-bar",type:"text",placeholder:"Search Issues...",onChange:this.onSearchChange,value:this.state.searchString})}),Object(o.jsx)("div",{className:"issues-list",children:Object.keys(this.state.searchString?this.state.filteredIssues:this.state.issues).map((function(t){return Object(o.jsx)(I,{editOpen:e.state.editOpen,index:t,details:e.state.searchString?e.state.filteredIssues[t]:e.state.issues[t],deleteIssue:e.deleteIssue,completeIssue:e.completeIssue,updateIssue:e.updateIssue,addIssue:e.addIssue},t)}))})]})]})}}]),s}(i.a.Component),w=C,S=s(32),R=s(8),D=function(){return Object(o.jsx)(S.a,{children:Object(o.jsxs)(R.c,{children:[Object(o.jsx)(R.a,{exact:!0,path:"/",component:O}),Object(o.jsx)(R.a,{exact:!0,path:"/BugTracker/:userId",component:w})]})})};s(50);Object(c.render)(Object(o.jsx)(D,{}),document.querySelector("#main"))}},[[51,1,2]]]);
//# sourceMappingURL=main.ae5dc78f.chunk.js.map